import{r as v,o as n,c as s,a as t,F as g,b as f,n as I,u as k,t as B,w as m,v as h,d as O,e as D,f as M,g as N}from"./index-4f1b5a6b.js";import{u as T,a as y,_ as L,b as A}from"./locations-77ac0da6.js";const F={class:"table table-bordered table-hover text-center align-middle"},P=t("colgroup",null,[t("col"),t("col",{width:"90%"})],-1),S={class:"border-0"},z={class:"text-end border-0",colspan:"100"},j=t("tr",null,[t("th",null,"ID"),t("th",null,"회사명")],-1),q=["onClick"],G={class:"bg-transparent"},H={class:"bg-transparent"},J={class:"input-group"},K=["role","onUpdate:modelValue","readonly"],Q=["onClick"],R=["onClick"],W=["onClick"],X=t("td",{class:"opacity-75"},"auto",-1),Y={class:"input-group"},Z=["onUpdate:modelValue"],tt=["onClick"],et={__name:"company",setup(C){const c=T(),a=v([]),r=()=>{a.splice(0),y.api({url:"/company",method:"get"}).then(o=>{L.merge(a,o)})},u=v([]),_=o=>{y.api({url:"/company",method:"post",data:{name:u[o].name}}).then(()=>{u.splice(o,1),r()})},$=o=>{y.api({url:`/company/${a[o].id}`,method:"put",data:{name:a[o].name}}).then(()=>{r()})},b=o=>{a[o].editMode=!0},p=o=>{confirm("정말 삭제하시겠습니까?")&&y.api({url:`/company/${a[o].id}`,method:"delete"}).then(()=>{r()})};return r(),(o,l)=>(n(),s("table",F,[P,t("thead",null,[t("tr",S,[t("th",z,[t("button",{class:"btn btn-sm btn-outline-secondary",onClick:l[0]||(l[0]=e=>u.push({}))},"추가")])]),j]),t("tbody",null,[(n(!0),s(g,null,f(a,(e,i)=>(n(),s("tr",{class:I(k(c).compId==e.id?"bg-primary-subtle":""),onClick:d=>k(c).compId=e.id},[t("td",G,B(e.id),1),t("td",H,[t("div",J,[m(t("input",{type:"text",role:e.editMode?"":"button",class:I(["form-control cursor-pointer",e.editMode?"":"bg-transparent border-0"]),"onUpdate:modelValue":d=>e.name=d,readonly:!e.editMode},null,10,K),[[h,e.name]]),e.editMode?O("",!0):(n(),s("button",{key:0,class:"btn btn-sm btn-outline-secondary rounded-0",onClick:d=>b(i)}," 수정 ",8,Q)),e.editMode?(n(),s("button",{key:2,class:"btn btn-sm btn-outline-success",onClick:d=>$(i)}," 저장 ",8,W)):(n(),s("button",{key:1,class:"btn btn-sm btn-outline-danger rounded-0",onClick:d=>p(i)}," 삭제 ",8,R))])])],10,q))),256)),(n(!0),s(g,null,f(u,(e,i)=>(n(),s("tr",null,[X,t("td",null,[t("div",Y,[m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":d=>e.name=d},null,8,Z),[[h,e.name]]),t("button",{class:"btn btn-sm btn-outline-success rounded-0",onClick:d=>_(i)}," 저장 ",8,tt)])])]))),256))])]))}},ot={class:"table table-bordered table-hover text-center align-middle"},nt=t("colgroup",null,[t("col"),t("col",{width:"90%"})],-1),st={class:"border-0"},at={class:"text-end border-0",colspan:"100"},lt=["disabled"],dt=t("tr",null,[t("th",null,"ID"),t("th",null,"팀명")],-1),ct={key:0},it={class:"input-group"},rt=["onUpdate:modelValue","disabled"],ut=["onClick"],bt=["onClick"],_t=["onClick"],pt=t("td",{class:"opacity-75"},"auto",-1),mt={class:"input-group"},ht=["onUpdate:modelValue"],$t=["onClick"],yt={key:1},vt=t("tr",null,[t("td",{colspan:"100"},"회사를 선택해주세요")],-1),gt=[vt],kt=t("tbody",null,null,-1),ft={__name:"team",setup(C){const c=T(),a=v([]),r=v([]),u=({id:o,method:l,data:e},i)=>{const d={url:o?`/team/${o}`:"/team",method:l};e&&(d.data=e);try{y.api(d).then(w=>{i(w)})}catch(w){console.log(w)}},_=()=>{a.splice(0);const o={id:c.compId,method:"get"};u(o,l=>{L.merge(a,l)})};D(()=>{c.compId&&(a.splice(0),r.splice(0),_())});const $=o=>{const l={method:"post",data:{name:r[o].name,companyId:c.compId}};u(l,()=>{r.splice(o,1),_()})},b=o=>{const l={id:a[o].id,method:"put",data:{name:a[o].name}};u(l,()=>{_()})},p=o=>{if(confirm("정말 삭제하시겠습니까?")){const l={id:a[o].id,method:"delete"};u(l,()=>{_()})}};return(o,l)=>(n(),s("table",ot,[nt,t("thead",null,[t("tr",st,[t("th",at,[t("button",{class:"btn btn-sm btn-outline-secondary",onClick:l[0]||(l[0]=e=>r.push({})),disabled:!k(c).compId}," 추가 ",8,lt)])]),dt]),k(c).compId?(n(),s("tbody",ct,[(n(!0),s(g,null,f(a,(e,i)=>(n(),s("tr",null,[t("td",null,B(e.id),1),t("td",null,[t("div",it,[m(t("input",{type:"text",class:I(["form-control",e.editMode?"":"bg-transparent border-0"]),"onUpdate:modelValue":d=>e.name=d,disabled:!e.editMode},null,10,rt),[[h,e.name]]),e.editMode?O("",!0):(n(),s("button",{key:0,class:"btn btn-sm btn-outline-secondary rounded-0",onClick:d=>e.editMode=!0}," 수정 ",8,ut)),e.editMode?(n(),s("button",{key:2,class:"btn btn-sm btn-outline-success",onClick:d=>b(i)}," 저장 ",8,_t)):(n(),s("button",{key:1,class:"btn btn-sm btn-outline-danger rounded-0",onClick:d=>p(i)}," 삭제 ",8,bt))])])]))),256)),(n(!0),s(g,null,f(r,(e,i)=>(n(),s("tr",null,[pt,t("td",null,[t("div",mt,[m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":d=>e.name=d},null,8,ht),[[h,e.name]]),t("button",{class:"btn btn-sm btn-outline-success rounded-0",onClick:d=>$(i)}," 저장 ",8,$t)])])]))),256))])):(n(),s("tbody",yt,gt)),kt]))}};const Ct=t("button",{id:"modalObtn",type:"button",class:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop",style:{display:"none"}},null,-1),xt={class:"modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable"},Mt={class:"modal-content"},It=t("div",{class:"modal-header"},[t("h1",{class:"modal-title fs-5",id:"staticBackdropLabel"},"Modal title"),t("button",{id:"modalCbtn",type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),wt={class:"modal-body p-0"},Vt={class:"modal-footer"},Ut=t("button",{type:"button",class:"btn btn-secondary text-center","data-bs-dismiss":"modal"}," 닫기 ",-1),Bt={__name:"modal",setup(C,{expose:c,emit:a}){const r=v({});return c({show(){document.getElementById("modalObtn").click()},hide(){document.getElementById("modalCbtn").click()},modalOk(){return"test"}}),(u,_)=>(n(),s(g,null,[Ct,t("div",{class:I(["modal fade",{show:r.show,showing:r.showing}]),id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},[t("div",xt,[t("div",Mt,[It,t("div",wt,[M(A,{isModal:!0,onModalOk:u.modalOk},null,8,["onModalOk"])]),t("div",Vt,[t("button",{type:"button",class:"btn btn-primary text-center",onClick:_[0]||(_[0]=$=>a("modalok"))}," 추가 "),Ut])])])],2)],64))}};let V,U,x;const E={create(){V=N(Bt),U=document.createElement("div"),document.body.append(U),x=V.mount(U)},show(){V||E.create(),x.show()},hide(){x&&x.hide()}},Tt={class:"table table-bordered table-hover text-center align-middle"},Lt=t("colgroup",null,[t("col"),t("col",{width:"90%"})],-1),Ot={class:"border-0"},Dt={class:"text-end border-0",colspan:"100"},Et=["disabled"],Nt=t("tr",null,[t("th",null,"ID"),t("th",null,"위치명 / 위도 / 경도")],-1),At={key:0},Ft={class:"input-group"},Pt=["onUpdate:modelValue"],St=["onUpdate:modelValue"],zt=["onUpdate:modelValue"],jt=["onClick"],qt=["onClick"],Gt={key:1},Ht=t("tr",null,[t("td",{colspan:"100"},"회사를 선택해주세요")],-1),Jt=[Ht],Kt={__name:"company-locations",setup(C){const c=T(),a=v([]),r=({id:b,method:p,data:o},l)=>{const e={url:b?`/company-location/${b}`:"/company-location",method:p};o&&(e.data=o);try{y.api(e).then(i=>{l(i)})}catch(i){console.log(i)}},u=()=>{const b={id:c.compId,method:"get"};r(b,p=>{L.merge(a,p)})};D(()=>{c.compId&&(a.splice(0),u())});const _=b=>{confirm("정말 삭제하시겠습니까?")&&(console.log(b),a.splice(b,1))},$=()=>{E.show()};return(b,p)=>(n(),s("table",Tt,[Lt,t("thead",null,[t("tr",Ot,[t("th",Dt,[t("button",{class:"btn btn-sm btn-outline-secondary",onClick:$,disabled:!k(c).compId}," 추가 ",8,Et)])]),Nt]),k(c).compId?(n(),s("tbody",At,[(n(!0),s(g,null,f(a,(o,l)=>(n(),s("tr",null,[t("td",null,B(o.id),1),t("td",null,[t("div",Ft,[m(t("input",{type:"text",class:"form-control text-center border-0 bg-transparent","onUpdate:modelValue":e=>o.locationName=e,readonly:""},null,8,Pt),[[h,o.locationName]]),m(t("input",{type:"text",class:"form-control text-center border-0 bg-transparent","onUpdate:modelValue":e=>o.latitude=e,readonly:""},null,8,St),[[h,o.latitude]]),m(t("input",{type:"text",class:"form-control text-center border-0 bg-transparent","onUpdate:modelValue":e=>o.longitude=e,readonly:""},null,8,zt),[[h,o.longitude]]),o.editMode?(n(),s("button",{key:1,class:"btn btn-sm btn-outline-success",onClick:e=>b.saveLocation(l)}," 저장 ",8,qt)):(n(),s("button",{key:0,class:"btn btn-sm btn-outline-danger rounded-0",onClick:e=>_(l)}," 삭제 ",8,jt))])])]))),256))])):(n(),s("tbody",Gt,Jt))]))}},Qt={class:"row m-0 h-100"},Rt={class:"col-6 h-100 overflow-auto"},Wt=t("ul",{class:"nav nav-tabs",id:"mainTab",role:"tablist"},[t("li",{class:"nav-item",role:"presentation"},[t("button",{class:"nav-link active",id:"comp-tab","data-bs-toggle":"tab","data-bs-target":"#comp-tab-pane",type:"button",role:"tab","aria-controls":"comp-tab-pane","aria-selected":"true"}," 회사 ")])],-1),Xt={class:"tab-content",id:"mainTabContent"},Yt={class:"tab-pane fade show active",id:"comp-tab-pane",role:"tabpanel","aria-labelledby":"comp-tab",tabindex:"0"},Zt={class:"col-6"},te=t("ul",{class:"nav nav-tabs",id:"subTab",role:"tablist"},[t("li",{class:"nav-item",role:"presentation"},[t("button",{class:"nav-link active",id:"team-tab","data-bs-toggle":"tab","data-bs-target":"#team-tab-pane",type:"button",role:"tab","aria-controls":"team-tab-pane","aria-selected":"true"}," 팀 ")]),t("li",{class:"nav-item",role:"presentation"},[t("button",{class:"nav-link",id:"location-tab","data-bs-toggle":"tab","data-bs-target":"#location-tab-pane",type:"button",role:"tab","aria-controls":"location-tab-pane","aria-selected":"false"}," 위치 ")])],-1),ee={class:"tab-content",id:"subTabContent"},oe={class:"tab-pane fade show active",id:"team-tab-pane",role:"tabpanel","aria-labelledby":"team-tab",tabindex:"0"},ne={class:"tab-pane fade",id:"location-tab-pane",role:"tabpanel","aria-labelledby":"location-tab",tabindex:"0"},le={__name:"index",setup(C){return(c,a)=>(n(),s("div",Qt,[t("div",Rt,[Wt,t("div",Xt,[t("div",Yt,[M(et)])])]),t("div",Zt,[te,t("div",ee,[t("div",oe,[M(ft)]),t("div",ne,[M(Kt)])])])]))}};export{le as default};
