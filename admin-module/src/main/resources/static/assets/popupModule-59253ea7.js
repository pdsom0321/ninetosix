import{r as l,m,o as i,c as _,a as c,u as d,p as f,q as h,d as b,n as w,s as k,x as v,y}from"./index-d7ee057e.js";import"./lodash-474b4435.js";const g={class:"card popup-component border-0 h-75"},x={class:"card-body p-0 overflow-auto"},C={__name:"popup",props:{settings:{type:Object,default:()=>({})}},setup(e,{emit:s}){const o=e,t=l({show:!1,showing:!1});m(()=>{t.show=!0,requestAnimationFrame(()=>{t.showing=!0})});const p=k({loader:()=>o.settings.component});l({callbackData:{}});const r=a=>{o.settings._ok&&o.settings._ok(a),u()},n=a=>{o.settings._close&&o.settings._close(a),u()},u=()=>{t.showing=!1,setTimeout(()=>{t.show=!1,o.settings.$unmount()},300)};return(a,O)=>(i(),_("div",{class:w(["popup-container text-center",{show:t.show,showing:t.showing}])},[c("div",g,[c("div",{class:"card-header text-end p-0 bg-secondary border-0"},[c("button",{class:"px-3 py-2 btn btn-sm btn-outline-secondary text-light close-btn fw-bold",onClick:n}," X ")]),c("div",x,[d(p)?(i(),f(h(d(p)),{key:0,data:o.settings.data,onOk:r,onClose:n},null,40,["data"])):b("",!0)])])],2))}},j={popup(e){if(!e.popup&&!e.component){console.warn("popup의 component가 정의되지 않았습니다.");return}const s=new Promise(n=>{e._popupFinal=()=>{n()}});Object.assign(s,{ok(n){return e._ok=n,s},close(n){return e._ok=n,s},final(n){return e._final=n,s}}),Object.assign(e,{$promise(){return s}});const o=document.createElement("div");document.body.append(o);const t=e.popup??C,p=v({render:()=>y(t,{settings:e})}),r=p.mount(o);return Object.assign(e,{$app(){return p},$vueApp(){return r},$unmount(){p.unmount(),o.remove()}}),s}};export{j as p};
